package lesson02;

import java.util.Scanner;

public class Game {
    private final Scanner scanner = new Scanner(System.in);

    public static void main(String[] args) {
        Game game = new Game();
        game.start();
    }

    private int readUserChoice(int max) {
        while (true) {
            System.out.printf("Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð½Ð¾Ð¼ÐµÑ€ Ð²Ð°ÑˆÐµÐ³Ð¾ Ð²Ñ‹Ð±Ð¾Ñ€Ð° (Ð¾Ñ‚ 1 Ð´Ð¾ %d): ", max);

            int choice = scanner.nextInt();
            if (choice >= 1 && choice <= max) {
                return choice;
            } else {
                System.out.printf("ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð²Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ñ‡Ð¸ÑÐ»Ð¾ Ð¾Ñ‚ 1 Ð´Ð¾ %d: ", max);
            }
        }
    }

    public void start() {
        System.out.println(
                """
                        ÐŸÑ€Ð¾Ð±ÑƒÐ¶Ð´ÐµÐ½Ð¸Ðµ
                        \s
                        Ð¢Ñ‹ Ð¿Ñ€Ð¸Ñ…Ð¾Ð´Ð¸ÑˆÑŒ Ð² ÑÐµÐ±Ñ Ð½Ð° Ñ…Ð¾Ð»Ð¾Ð´Ð½Ð¾Ð¼ Ð¿ÐµÑÐºÐµ Ñƒ Ð±ÐµÑ€ÐµÐ³Ð° Ð¾Ð·ÐµÑ€Ð°. \
                        Ð’Ð¾ÐºÑ€ÑƒÐ³ â€” Ñ‚ÑƒÐ¼Ð°Ð½, Ð½Ð¾Ñ‡ÑŒ, Ð½Ð¸ Ð´ÑƒÑˆÐ¸. Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½ Ð² ÐºÐ°Ñ€Ð¼Ð°Ð½Ðµ Ð¿Ð¾Ñ‡Ñ‚Ð¸ Ñ€Ð°Ð·Ñ€ÑÐ¶ÐµÐ½ (1%).
                       \s
                        Ð’ Ð´Ñ€ÑƒÐ³Ð¾Ð¼ ÐºÐ°Ñ€Ð¼Ð°Ð½Ðµ â€” ÑÐ¿Ð¸Ñ‡ÐºÐ° Ð¸ ÐºÐ»Ð¾Ñ‡Ð¾Ðº Ð±ÑƒÐ¼Ð°Ð³Ð¸ Ñ Ð½Ð°Ð´Ð¿Ð¸ÑÑŒÑŽ:
                            "ÐÐµ Ð´Ð¾Ð²ÐµÑ€ÑÐ¹ Ð³Ð¾Ð»Ð¾ÑÐ°Ð¼. Ð˜Ð´Ð¸ Ðº ÑÐµÐ²ÐµÑ€Ñƒ."
                           \s
                        Ð’Ñ‹Ð±Ð¾Ñ€:
                        1. ðŸ”¦ ÐŸÐ¾Ð¹Ñ‚Ð¸ Ð½Ð° Ð²Ð¾ÑÑ‚Ð¾Ðº, Ñ‚ÑƒÐ´Ð°, Ð³Ð´Ðµ Ð² Ñ‚ÑƒÐ¼Ð°Ð½Ðµ Ð¼ÐµÑ€Ñ†Ð°ÐµÑ‚ ÑÐ²ÐµÑ‚.
                        2. ðŸ§­ ÐŸÐ¾Ð¹Ñ‚Ð¸ Ð½Ð° ÑÐµÐ²ÐµÑ€, ÐºÐ°Ðº ÑÐ¾Ð²ÐµÑ‚ÑƒÐµÑ‚ Ð·Ð°Ð¿Ð¸ÑÐºÐ°.
                        3. ðŸªµ ÐžÑÑ‚Ð°Ñ‚ÑŒÑÑ Ñƒ Ð¾Ð·ÐµÑ€Ð°, Ð¼Ð¾Ð¶ÐµÑ‚, ÐºÑ‚Ð¾-Ñ‚Ð¾ Ð¿Ñ€Ð¸Ð´Ñ‘Ñ‚.
                       \s"""
        );

        int choice = readUserChoice( 3);

        if (choice == 1) {
            scene2AHandler();
        } else if (choice == 2) {
             scene2BHandler();
        } else {
             scene2CHandler();
        }
    }

    public void scene2AHandler() {
        System.out.println("""
                Ð’Ð¾ÑÑ‚Ð¾Ñ‡Ð½Ñ‹Ð¹ ÑÐ²ÐµÑ‚
                \s
                Ð¢Ñ‹ Ð¸Ð´Ñ‘ÑˆÑŒ Ð½Ð° ÑÐ²ÐµÑ‚ Ð¸ Ð½Ð°Ñ…Ð¾Ð´Ð¸ÑˆÑŒ ÑÑ‚Ð°Ñ€ÑƒÑŽ ÑÐ»ÐµÐºÑ‚Ñ€Ð¾ÑÑ‚Ð°Ð½Ñ†Ð¸ÑŽ. Ð’Ð½ÐµÐ·Ð°Ð¿Ð½Ð¾ Ð·Ð°Ð³Ð¾Ñ€Ð°ÐµÑ‚ÑÑ Ð¿Ñ€Ð¾Ð¶ÐµÐºÑ‚Ð¾Ñ€.
                \s
                Ð“Ð¾Ð»Ð¾Ñ Ð² Ð³Ñ€Ð¾Ð¼ÐºÐ¾Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ñ‚ÐµÐ»Ðµ: Â«Ð¡Ñ‚Ð¾ÑÑ‚ÑŒ. Ð˜Ð´ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ...Â»
                \s
                Ð¢Ñ‹ Ð½Ð¸Ñ‡ÐµÐ³Ð¾ Ð½Ðµ Ð¿Ð¾Ð½Ð¸Ð¼Ð°ÐµÑˆÑŒ.
                \s
                Ð’Ñ‹Ð±Ð¾Ñ€:
                1. ðŸ¤– ÐžÑ‚Ð²ÐµÑ‚Ð¸Ñ‚ÑŒ: Â«Ð¯ Ñ‡ÐµÐ»Ð¾Ð²ÐµÐº, Ñ Ð¿Ð¾Ñ‚ÐµÑ€ÑÐ»ÑÑ!Â»
                2. ðŸƒ Ð£Ð±ÐµÐ¶Ð°Ñ‚ÑŒ Ð½Ð°Ð·Ð°Ð´ Ð² Ð»ÐµÑ.
                """);

        int choice = readUserChoice(2);
        if (choice == 1) {
            scene3AHandler();
        } else {
            scene3BHandler();
        }
    }

    public void scene2BHandler() {
        System.out.println("""
                Ð¡ÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ Ð¿ÑƒÑ‚ÑŒ
                \s
                Ð¢Ñ‹ ÑÐ»ÐµÐ´ÑƒÐµÑˆÑŒ Ð½Ð° ÑÐµÐ²ÐµÑ€ Ð¸ Ð½Ð°Ñ…Ð¾Ð´Ð¸ÑˆÑŒ Ð·Ð°Ð±Ñ€Ð¾ÑˆÐµÐ½Ð½ÑƒÑŽ Ð´ÐµÑ€ÐµÐ²Ð½ÑŽ. Ð”Ð¾Ð¼Ð° Ð¿ÑƒÑÑ‚Ñ‹, Ð½Ð¾ Ð² Ð¾Ð´Ð½Ð¾Ð¼ â€” ÑÐ»ÐµÐ´Ñ‹ ÐºÐ¾ÑÑ‚Ñ€Ð° Ð¸ Ð´Ð½ÐµÐ²Ð½Ð¸Ðº.
                \s
                    "ÐžÐ·ÐµÑ€Ð¾ Ð¿Ñ€Ð¾ÑÑ‹Ð¿Ð°ÐµÑ‚ÑÑ Ð² Ð¿Ð¾Ð»Ð½Ð¾Ð»ÑƒÐ½Ð¸Ðµ. ÐÐµ Ð²ÐµÑ€ÑŒ Ð³Ð¾Ð»Ð¾ÑÐ°Ð¼. ÐŸÑ€ÑÑ‡ÑŒÑÑ Ð´Ð¾ Ñ€Ð°ÑÑÐ²ÐµÑ‚Ð°."
                \s
                Ð’Ñ‹Ð±Ð¾Ñ€:
                1. ðŸ”¥ ÐžÑÑ‚Ð°Ñ‚ÑŒÑÑ Ð² Ð´Ð¾Ð¼Ðµ Ð´Ð¾ Ñ€Ð°ÑÑÐ²ÐµÑ‚Ð°.
                2. ðŸšª Ð’Ñ‹Ð¹Ñ‚Ð¸ Ð¸ Ð¸Ð´Ñ‚Ð¸ Ð´Ð°Ð»ÑŒÑˆÐµ Ð² Ñ‚ÑƒÐ¼Ð°Ð½.
                """);

        int choice = readUserChoice(2);
        if (choice == 1) {
            scene3CHandler();
        } else {
            scene3DHandler();
        }
    }
    public void scene2CHandler() {
        System.out.println("""
                ÐžÐ¶Ð¸Ð´Ð°Ð½Ð¸Ðµ Ñƒ Ð¾Ð·ÐµÑ€Ð°
                \s
                Ð¢Ñ‹ Ð¾ÑÑ‚Ð°Ñ‘ÑˆÑŒÑÑ Ð½Ð° Ð¼ÐµÑÑ‚Ðµ. Ð˜Ð· Ñ‚ÑƒÐ¼Ð°Ð½Ð° ÑÐ»Ñ‹ÑˆÐ¸ÑˆÑŒ Ð´ÐµÑ‚ÑÐºÐ¸Ð¹ Ð³Ð¾Ð»Ð¾Ñ:
                    Â«ÐŸÐ¾Ð¼Ð¾Ð³Ð¸ Ð¼Ð½Ðµâ€¦ Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°â€¦Â»
                Ð¢ÐµÐ±Ñ Ð¾Ñ…Ð²Ð°Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ ÑÑ‚Ñ€Ð°Ñ….
                \s
                Ð’Ñ‹Ð±Ð¾Ñ€:
                1. ðŸ‘§ ÐŸÐ¾Ð¹Ñ‚Ð¸ Ð½Ð° Ð³Ð¾Ð»Ð¾Ñ.
                2. ðŸ˜¨ Ð£Ð±ÐµÐ¶Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¾Ñ‡ÑŒ Ð² Ð»ÐµÑ.
                
                """);

        int choice = readUserChoice(2);
        if (choice == 1) {
            scene3EHandler();
        } else {
            scene3FHandler();
        }
    }

    private void scene3AHandler() {
        System.out.println("""
                ÐŸÐ¾Ð¿Ñ‹Ñ‚ÐºÐ° Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ
                \s
                Ð¢Ñ‹ ÐºÑ€Ð¸Ñ‡Ð¸ÑˆÑŒ, Ð½Ð¾ ÑÐ²ÐµÑ‚ ÑÐ»ÐµÐ¿Ð¸Ñ‚ Ñ‚ÐµÐ±Ñ. Ð˜Ð· Ñ‚ÐµÐ¼Ð½Ð¾Ñ‚Ñ‹ Ð¿Ð¾ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ñ„Ð¸Ð³ÑƒÑ€Ð° Ð² Ð¿Ñ€Ð¾Ñ‚Ð¸Ð²Ð¾Ð³Ð°Ð·Ðµ.
                \s
                Ð’Ð°Ñ ÑƒÑÑ‹Ð¿Ð»ÑÑŽÑ‚. ÐžÑ‡Ð½ÑƒÐ»ÑÑ Ñ‚Ñ‹ ÑƒÐ¶Ðµ Ð² Ð»Ð°Ð±Ð¾Ñ€Ð°Ñ‚Ð¾Ñ€Ð¸Ð¸. Ð¢Ñ‹ ÑÑ‚Ð°Ð» Ñ‡Ð°ÑÑ‚ÑŒÑŽ ÑÐºÑÐ¿ÐµÑ€Ð¸Ð¼ÐµÐ½Ñ‚Ð°.
                """);

        endingLoseHandler();
    }

    private void scene3BHandler() {
        System.out.println("""
                Ð¢Ñ‹ Ð±ÐµÐ¶Ð¸ÑˆÑŒ, Ð½Ð¾ ÑÐ¿Ð¾Ñ‚Ñ‹ÐºÐ°ÐµÑˆÑŒÑÑ. ÐŸÑ€Ð¾Ð¶ÐµÐºÑ‚Ð¾Ñ€ Ð³Ð°ÑÐ½ÐµÑ‚. Ð§Ñ‚Ð¾-Ñ‚Ð¾ Ð´Ð²Ð¸Ð³Ð°ÐµÑ‚ÑÑ Ð² ÐºÑƒÑÑ‚Ð°Ñ….
                \s
                Ð¢Ñ‹ Ð¸ÑÑ‡ÐµÐ· Ð±ÐµÐ· ÑÐ»ÐµÐ´Ð°.
                """);

        endingWinHandler();
    }

    private void scene3CHandler(
    ) {
        System.out.println("""
                Ð¢Ñ‹ ÑÐ¸Ð´Ð¸ÑˆÑŒ Ñƒ ÐºÐ¾ÑÑ‚Ñ€Ð°. ÐŸÑ€Ð¾Ñ…Ð¾Ð´ÑÑ‚ Ñ‡Ð°ÑÑ‹. ÐÐ° Ñ€Ð°ÑÑÐ²ÐµÑ‚Ðµ Ð¸Ð· Ñ‚ÑƒÐ¼Ð°Ð½Ð° Ð²Ñ‹Ñ…Ð¾Ð´Ð¸Ñ‚ Ð³Ñ€ÑƒÐ¿Ð¿Ð° Ð»ÑŽÐ´ÐµÐ¹ â€” Ð²Ñ‹Ð¶Ð¸Ð²ÑˆÐ¸Ðµ.
                \s
                ÐžÐ½Ð¸ Ð¿Ð¾Ð¼Ð¾Ð³Ð°ÑŽÑ‚ Ñ‚ÐµÐ±Ðµ Ð²Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒÑÑ.
                """);

        endingWinHandler();
    }

    private void scene3DHandler() {
        System.out.println("""
                Ð¢Ñ‹ Ð±Ð»ÑƒÐ¶Ð´Ð°ÐµÑˆÑŒ Ð² Ñ‚ÑƒÐ¼Ð°Ð½Ðµ Ð¸ Ð²Ñ‹Ñ…Ð¾Ð´Ð¸ÑˆÑŒ Ðº Ð¼Ð°ÑÐºÑƒ. Ð¢Ð°Ð¼ â€” ÑÑ‚Ð°Ñ€Ð°Ñ Ñ€Ð°Ñ†Ð¸Ñ. Ð¡Ð²ÑÐ·ÑŒ ÑƒÐ´Ð°Ñ‘Ñ‚ÑÑ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ.
                \s
                ÐÐ° ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¹ Ð´ÐµÐ½ÑŒ â€” ÑÐ²Ð°ÐºÑƒÐ°Ñ†Ð¸Ñ.
                """
        );

        endingWinHandler();
    }

    private void scene3EHandler() {
        System.out.println("""
                Ð¢Ñ‹ Ð¸Ð´Ñ‘ÑˆÑŒ Ð½Ð° Ð³Ð¾Ð»Ð¾Ñ Ð¸ Ð²Ð¸Ð´Ð¸ÑˆÑŒ Ð´ÐµÐ²Ð¾Ñ‡ÐºÑƒ Ð² Ð±ÐµÐ»Ð¾Ð¼. ÐžÐ½Ð° ÑƒÐ»Ñ‹Ð±Ð°ÐµÑ‚ÑÑ Ð¸ Ð¸ÑÑ‡ÐµÐ·Ð°ÐµÑ‚ Ð² Ð²Ð¾Ð´Ðµ.
                \s
                Ð’Ð¾ÐºÑ€ÑƒÐ³ Ñ‚ÐµÐ±Ñ â€” Ñ‚ÐµÐ½Ð¸. Ð¢Ñ‹ Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑˆÑŒ Ð´Ð²Ð¸Ð³Ð°Ñ‚ÑŒÑÑ.
                """);
        endingLakeCurseHandler();
    }

    private void scene3FHandler() {
        System.out.println("""
                ÐŸÐ¾Ð±ÐµÐ³ Ð² Ð»ÐµÑ
                \s
                Ð¢Ñ‹ Ð±ÐµÐ¶Ð¸ÑˆÑŒ Ð¿Ñ€Ð¾Ñ‡ÑŒ. ÐÐ°Ñ‚Ñ‹ÐºÐ°ÐµÑˆÑŒÑÑ Ð½Ð° Ð¿Ð¾Ð´Ð·ÐµÐ¼Ð½Ñ‹Ð¹ Ð»ÑŽÐº. Ð’Ð½ÑƒÑ‚Ñ€Ð¸ â€” Ð±ÑƒÐ½ÐºÐµÑ€. Ð¢Ð°Ð¼ â€” Ð´Ð¾ÐºÐ°Ð·Ð°Ñ‚ÐµÐ»ÑŒÑÑ‚Ð²Ð° ÑÐºÑÐ¿ÐµÑ€Ð¸Ð¼ÐµÐ½Ñ‚Ð°:
                Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ñ‹, ÐºÐ°Ñ€Ñ‚Ñ‹, Ð¶ÑƒÑ€Ð½Ð°Ð»Ñ‹.
                \s
                Ð’Ñ‹Ð±Ð¾Ñ€:
                1. ðŸ’£ Ð Ð°Ð·Ñ€ÑƒÑˆÐ¸Ñ‚ÑŒ Ñ†ÐµÐ½Ñ‚Ñ€ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ.
                2. ðŸ§  ÐŸÑ€Ð¸ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸Ñ‚ÑŒÑÑ Ðº Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñƒ.
                """);

        int choice = readUserChoice(2);
        if (choice == 1) {
            scene4AHandler();
        } else {
            scene4BHandler();
        }
    }

    public void scene4AHandler() {
        System.out.println("""
                Ð¢Ñ‹ Ð°ÐºÑ‚Ð¸Ð²Ð¸Ñ€ÑƒÐµÑˆÑŒ ÑÐ°Ð¼Ð¾ÑƒÐ½Ð¸Ñ‡Ñ‚Ð¾Ð¶ÐµÐ½Ð¸Ðµ. ÐžÐ·ÐµÑ€Ð¾ Ð½Ð°Ñ‡Ð¸Ð½Ð°ÐµÑ‚ ÑÐ²ÐµÑ‚Ð¸Ñ‚ÑŒÑÑ. Ð¢ÑŒÐ¼Ð° ÑƒÑ…Ð¾Ð´Ð¸Ñ‚. Ð¢Ñ‹ ÑÐ¿Ð°Ñ Ð¼Ð¸Ñ€â€¦ Ð½Ð¾ Ð¿Ð¾Ð³Ð¸Ð±.
                """);

        endingHeroHandler();
    }

    public void scene4BHandler() {
        System.out.println("""
                Ð¢Ñ‹ Ð²Ñ…Ð¾Ð´Ð¸ÑˆÑŒ Ð² Ð¿Ñ€Ð¾ÐµÐºÑ‚. Ð¢ÐµÐ±Ðµ Ð´Ð°ÑŽÑ‚ Ð½Ð¾Ð²Ð¾Ðµ Ð¸Ð¼Ñ. Ð¢Ñ‹ ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸ÑˆÑŒÑÑ Ñ‡Ð°ÑÑ‚ÑŒÑŽ Ñ‚Ð¾Ð³Ð¾, Ñ‡Ñ‚Ð¾ Ñ€Ð°Ð½ÑŒÑˆÐµ Ð¿Ñ€ÐµÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð»Ð¾ Ñ‚ÐµÐ±Ñ.
                """);

        endingSecretPlayerHandler();
    }

    public void endingWinHandler() {
        System.out.println("ÐšÐ¾Ð½ÐµÑ† Ð¸Ð³Ñ€Ñ‹: ÐŸÐ¾Ð±ÐµÐ´Ð°!");
        System.out.println("Ð¢Ñ‹ Ð²Ñ‹Ð±Ñ€Ð°Ð»ÑÑ Ð¸ ÑÐ¿Ð°ÑÑÑ.");
    }

    public void endingLoseHandler() {
        System.out.println("ÐšÐ¾Ð½ÐµÑ† Ð¸Ð³Ñ€Ñ‹: ÐÐµÑƒÐ´Ð°Ñ‡Ð°!");
        System.out.println("Ð¢Ñ‹ Ð¸ÑÑ‡ÐµÐ· Ð±ÐµÐ· ÑÐ»ÐµÐ´Ð°.");
    }

    public void endingLakeCurseHandler() {
        System.out.println("ÐšÐ¾Ð½ÐµÑ† Ð¸Ð³Ñ€Ñ‹: ÐŸÑ€Ð¾ÐºÐ»ÑÑ‚Ð¸Ðµ Ð¾Ð·ÐµÑ€Ð°!");
        System.out.println("ÐŸÐ¾Ð¿Ð°Ð» Ð¿Ð¾Ð´ Ð²Ð»Ð¸ÑÐ½Ð¸Ðµ Ð¾Ð·ÐµÑ€Ð°.");
    }

    public void endingHeroHandler() {
        System.out.println("ÐšÐ¾Ð½ÐµÑ† Ð¸Ð³Ñ€Ñ‹: Ð“ÐµÑ€Ð¾Ð¹!");
        System.out.println("Ð¡Ð¿Ð°Ñ Ð¼Ð¸Ñ€, Ð½Ð¾ Ð¿Ð¾Ð³Ð¸Ð±.");
    }

    public void endingSecretPlayerHandler() {
        System.out.println("ÐšÐ¾Ð½ÐµÑ† Ð¸Ð³Ñ€Ñ‹: Ð¢Ð°Ð¹Ð½Ñ‹Ð¹ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸Ðº!");
        System.out.println("Ð¡Ñ‚Ð°Ð» Ñ‡Ð°ÑÑ‚ÑŒÑŽ ÑÐºÑÐ¿ÐµÑ€Ð¸Ð¼ÐµÐ½Ñ‚Ð°.");
    }
}
